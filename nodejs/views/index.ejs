<!-- 
(C) Copyright IBM Corp. 2021.

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with
the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License. 
-->

<!DOCTYPE html>

<head>
    <title>Blue Charge</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://unpkg.com/carbon-addons-bluemix@0.3.0/css/carbon-components.min.css">
    <link rel="stylesheet" href="https://unpkg.com/carbon-components@10.26.0/css/carbon-components.css">
    <script src="https://unpkg.com/carbon-components@10.26.0/scripts/carbon-components.js"></script>
    <link rel="stylesheet" href="/stylesheets/index.css">

    <!-- Render below values in variable during page load -->
    <script>
        var isLoggedInUser = "<%= isLoggedInUser %>"
        var leftNavMenu = "<%= leftNavMenu %>"
        var flightBookingAllowed = "<%= flightBookingAllowed %>"
    </script>
</head>

<body>
    <nav class="bx--cloud-header">
        <!-- Check feature flag to enable Left Navigation Menu -->
		<% if(leftNavMenu) { %>
        <div class="bx--cloud-header__wrapper">
            <button class="bx--cloud-header__app-menu" type="button" onclick="openNav()">
                <svg fill-rule="evenodd">
                    <title>cloud header menu</title>
                    <path d="M0 0h20v2H0zm0 6h20v2H0zm0 6h20v2H0z" />
                </svg>
            </button>
            <div id="mySidenav" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <a href="#">MOBILE</a>
                <a href="#">DATACARD</a>
                <a href="#">DTH</a>
                <a href="#">LANDLINE</a>
            </div>
            <a href="/" class="bx--cloud-header-brand">
                <img src="../images/cell.svg" alt=" " />
                <h4 class="bx--cloud-header-brand__text">
                    Blue
                    <span>Charge</span>
                </h4>
            </a>
            <div class="bx--cloud-header__wrapper">
                <ul class="bx--cloud-header-list">
                    <li class="bx--cloud-header-list__item bx--cloud-header-list__item--icon">
                        <button class="bx--cloud-header-list__btn" type="button">
                            <svg viewBox="0 0 16 16">
                                <title>notifications</title>
                                <path
                                    d="M9 1.11V0H7v1.11A5.022 5.022 0 0 0 3.1 4.9L1 14h5a2 2 0 0 0 4 0h5l-2.1-9.1A5.022 5.022 0 0 0 9 1.11z" />
                            </svg>
                        </button>
                    </li>
                    <li class="bx--cloud-header-list__item bx--cloud-header-list__item--icon">
                        <button class="bx--cloud-header-list__btn" type="button">
                            <svg viewBox="0 0 16 16">
                                <title>applications</title>
                                <circle cx="2" cy="2" r="2" />
                                <circle cx="8" cy="2" r="2" />
                                <circle cx="14" cy="2" r="2" />
                                <circle cx="2" cy="8" r="2" />
                                <circle cx="8" cy="8" r="2" />
                                <circle cx="14" cy="8" r="2" />
                                <circle cx="2" cy="14" r="2" />
                                <circle cx="8" cy="14" r="2" />
                                <circle cx="14" cy="14" r="2" />
                            </svg>
                        </button>
                    </li>
                    <li class="bx--cloud-header-list__item bx--cloud-header-list__item--icon">
                        <button class="bx--cloud-header-list__btn" type="button">
                            <svg viewBox="0 0 16 16" fill-rule="evenodd">
                                <title>search</title>
                                <path
                                    d="M6 2c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4zm0-2C2.7 0 0 2.7 0 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm10 13.8L13.8 16l-3.6-3.6 2.2-2.2z" />
                                <path d="M16 13.8L13.8 16l-3.6-3.6 2.2-2.2z" />
                            </svg>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
        <ul class="bx--cloud-header-list">
            <li class="bx--cloud-header-list__item">
                <% if(isLoggedInUser==false) { %>
                    <button class="bx--btn bx--btn--primary" type="button" data-modal-target="#modalLogin">LOGIN</button>
                    <button class="bx--btn bx--btn--primary" type="button" data-modal-target="#modalSignup">SIGNUP</button>
                <% } %>
                <% if(isLoggedInUser==true) { %>
                <p style="margin-right: 10px;"><%= userEmail %></p>
                <button class="bx--btn bx--btn--primary" type="button" onclick="window.location.href='/logout'">SIGN OUT</button>
                <% } %>
            </li>
        </ul>
        <!-- ELSE case - Old Navigation menu -->
        <% } else { %>
        <div class="bx--cloud-header__wrapper">
            <a href="/" class="bx--cloud-header-brand">
                <img src="../images/cell.svg" alt=" " />
                <h4 class="bx--cloud-header-brand__text">
                    Blue
                    <span>Charge</span>
                </h4>
            </a>
            <div class="bx--cloud-header__wrapper">
                <ul class="bx--cloud-header-list">
                    <li class="bx--cloud-header-list__item bx--cloud-header-list__item--icon">
                        <button class="bx--cloud-header-list__btn" type="button">
                            <svg viewBox="0 0 16 16">
                                <title>notifications</title>
                                <path
                                    d="M9 1.11V0H7v1.11A5.022 5.022 0 0 0 3.1 4.9L1 14h5a2 2 0 0 0 4 0h5l-2.1-9.1A5.022 5.022 0 0 0 9 1.11z" />
                            </svg>
                        </button>
                    </li>
                    <li class="bx--cloud-header-list__item bx--cloud-header-list__item--icon">
                        <button class="bx--cloud-header-list__btn" type="button">
                            <svg viewBox="0 0 16 16">
                                <title>applications</title>
                                <circle cx="2" cy="2" r="2" />
                                <circle cx="8" cy="2" r="2" />
                                <circle cx="14" cy="2" r="2" />
                                <circle cx="2" cy="8" r="2" />
                                <circle cx="8" cy="8" r="2" />
                                <circle cx="14" cy="8" r="2" />
                                <circle cx="2" cy="14" r="2" />
                                <circle cx="8" cy="14" r="2" />
                                <circle cx="14" cy="14" r="2" />
                            </svg>
                        </button>
                    </li>
                    <li class="bx--cloud-header-list__item bx--cloud-header-list__item--icon">
                        <button class="bx--cloud-header-list__btn" type="button">
                            <svg viewBox="0 0 16 16" fill-rule="evenodd">
                                <title>search</title>
                                <path
                                    d="M6 2c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4zm0-2C2.7 0 0 2.7 0 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm10 13.8L13.8 16l-3.6-3.6 2.2-2.2z" />
                                <path d="M16 13.8L13.8 16l-3.6-3.6 2.2-2.2z" />
                            </svg>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
        <ul class="bx--cloud-header-list">
            <li class="bx--cloud-header-list__item">
                <a class="bx--cloud-header-list__link" href="#">MOBILE</a>
                <a class="bx--cloud-header-list__link" href="#">DATACARD</a>
                <a class="bx--cloud-header-list__link" href="#">DTH</a>
                <a class="bx--cloud-header-list__link" href="#">LANDLINE</a>
                <% if(isLoggedInUser==false) { %>
                    <button class="bx--btn bx--btn--primary" type="button" data-modal-target="#modalLogin">LOGIN</button>
                    <button class="bx--btn bx--btn--primary" type="button" data-modal-target="#modalSignup">SIGNUP</button>
                <% } %>
                <% if(isLoggedInUser==true) { %>
                <p style="margin-right: 10px;"><%= userEmail %></p>
                <button class="bx--btn bx--btn--primary" type="button" onclick="window.location.href='/logout'">SIGN OUT</button>
                <% } %>
            </li>
        </ul>
        <% } %>
        <!-- Old Navigation menu ends -->
    </nav>

    <div class="banner">
        <div class="banner-info">
            <h3>Get Free Coupons and Discounts on Top Brands With Every Recharge</h3>
        </div>

        <div class="buttons">
            <button class="bx--btn bx--btn--primary" type="button">MOBILE</button>
            <button class="bx--btn bx--btn--primary" type="button">DATACARD</button>
            <button class="bx--btn bx--btn--primary" type="button">RECHARGE</button>
        </div>

        <!-- Check feature value and show flight Booking button -->
        <% if(isLoggedInUser && flightBookingAllowed) { %>
        <div class="flight-button">
            <button class="bx--btn bx--btn--primary" type="button" onclick="window.location.href='/flightbooking'">FLIGHT BOOKING</button>
        </div>
        <% } %>
    </div>

    <div class="bx--row">
        <div class="bx--col-lg-4 bx--col-md-3 bx--col-sm-2">
            <div class="btm-grid back-col1">
                <img src="../images/bbbb.png" alt="" />
            </div>
        </div>
        <div class="bx--col-lg-4 bx--col-md-3 bx--col-sm-2">
            <div class="btm-grid btm-wid">
                <h3>SPECIAL RECHARGE OFFERS</h3>
                <p>Online recharge is one of the handiest options as it saves a lot of time and efforts
                    Blue charge offers a reliable online recharge platform where you can make an moble recharge in short
                    &
                    simple steps
                    Topping up prepaid mobile was never this quick and easy as it is with us.
                    Forget the conventional way of making a recharge through scratch cards,
                    Blue charge offers online mobile prepaid
                    recharge by an uncomplicated process and also provides you
                    with many mobile recharge offers.</p>
            </div>
        </div>
        <div class="bx--col-lg-4 bx--col-md-3 bx--col-sm-2">
            <div class="btm-grid back-col2">
                <img src="../images/bbb1.png" alt="" />
            </div>
        </div>
    </div>

    <footer class="bx--card-footer">
        <p>© 2020 Blue Charge. All Rights Reserved</p>
    </footer>

    <!-- LOGIN MODAL -->
    <div data-modal id="modalLogin" class="bx--modal" tabindex="-1">
        <div class="bx--modal-container">
            <div class="bx--modal-header">
                <p class="bx--modal-header__heading bx--type-beta">Signin with your account</p>
                <button class="bx--modal-close" type="button" data-modal-close aria-label="close modal">
                    <svg class="bx--modal-close__icon" width="10" height="10" viewBox="0 0 10 10" fill-rule="evenodd">
                        <title>Close Modal</title>
                        <path d="M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z">
                        </path>
                    </svg>
                </button>
            </div>
    
            <form action="/" method="POST">
                <div class="bx--modal-content">
                    <div class="bx--form-item">
                        <label for="text-input-10" class="bx--label">Email Id</label>
                        <input name="logemail" id="text-input-10" type="text" class="bx--text-input" placeholder="Email Id"
                            aria-required="true">
                    </div>
    
                    <div class="bx--form-item">
                        <label for="text-input-20" class="bx--label bx--label--disabled">Password</label>
                        <input name="logpassword" id="text-input-20" type="password" class="bx--text-input"
                            placeholder="Password" aria-required="true">
                    </div>
                </div>
    
                <div class="bx--modal-footer">
                    <button class="bx--btn bx--btn--secondary" type="button" data-modal-close>Cancel</button>
                    <button class="bx--btn bx--btn--primary" type="submit" data-modal-primary-focus>Login</button>
                </div>
            </form>
        </div>
    </div>
    <!-- SIGNUP MODAL -->
    <div data-modal id="modalSignup" class="bx--modal" tabindex="-1">
        <div class="bx--modal-container">
            <div class="bx--modal-header">
                <p class="bx--modal-header__heading bx--type-beta">Create your account</p>
                <button class="bx--modal-close" type="button" data-modal-close aria-label="close modal">
                    <svg class="bx--modal-close__icon" width="10" height="10" viewBox="0 0 10 10" fill-rule="evenodd">
                        <title>Close Modal</title>
                        <path d="M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z">
                        </path>
                    </svg>
                </button>
            </div>
    
            <form id="signupForm" action="/" method="POST">
                <div class="bx--modal-content">
                    <div class="bx--form-item">
                        <label for="text-input-1" class="bx--label">Email Id</label>
                        <input name="email" id="text-input-1" type="text" class="bx--text-input" placeholder="Email Id"
                            aria-required="true">
                    </div>
            
                    <div class="bx--form-item">
                        <label for="text-input-2" class="bx--label bx--label--disabled">Password</label>
                        <input name="password" id="text-input-2" type="password" class="bx--text-input" placeholder="Password"
                            aria-required="true">
                    </div>
                    <div class="bx--form-item">
                        <label for="text-input-3" class="bx--label bx--label--disabled">Confirm Password</label>
                        <input name="passwordConf" id="text-input-3" type="password" class="bx--text-input"
                            placeholder="Confirm Password" aria-required="true">
                    </div>
                </div>
                <div class="bx--modal-footer">
                    <button class="bx--btn bx--btn--secondary" type="button" data-modal-close>Cancel</button>
                    <button class="bx--btn bx--btn--primary" type="submit" data-modal-primary-focus>Sign up</button>
                </div>
            </form>
        </div>
    </div>

</body>

<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }

    document.addEventListener('modal-shown', (evt) => {
        const first = evt.target.querySelectorAll('input')[0];
        first.focus();
    })

    document.addEventListener('modal-hidden', (evt) => {
        const first = evt.target.querySelectorAll('input')[0];
        first.blur();
    })
</script>

</html>